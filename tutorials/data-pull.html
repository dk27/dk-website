<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Import Data in Python</title>
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower|Lora&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles/styles.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="../main.js"></script>
    <script src="https://kit.fontawesome.com/183f710d87.js" crossorigin="anonymous"></script>
    
</head>

<body>
    <header>
        <nav class="main-nav">
            <div><a href="../index.html"><img src="../styles/logo2.jpg" alt="logo" class="logo"></a></div>
            <ul class="firstUL">
                <li><a href="../index.html">home</a></li>
                <li><a href="../about.html" class="about">about</a></li>
                <li><a href="../archive.html">archive</a></li>
                <li><a href="../contact.html" class="contact">contact</a></li>
                <button class="hamburger"><i class="fas fa-bars"></i><p class="sr-only">Click here to open up hamburger menu</p></button>
            </ul>
        </nav>
        <div class="wrapper header-flex">
            <h1>Don't you love data?</h1>
            <h2>Data Science Blog</h2>
        </div>
    </header>
    <main>
        <div class="wrapper">
            <section>
                <div class="data-pulling-section">
                    <h2 class="page-title">Introduction to Importing Data in Python. Part 1</h2>
                    <h3>March 5th, 2020</h3>
                    <p>As a data scientist, you really need to get comfortable with working with data. Before you can
                        build
                        a cool machine learning model, you need to spend significant amount of time on figuring out
                        where the data resides and in
                        which format, how to access it, join multiple tables together and prepare it for further
                        analysis.
                        In this post, I will cover most tabular data formats I had a chance to work with and how to
                        import them in
                        Python.</p>
                    <h3 class="blue">CSV Files</h3>
                    <p>CSV files are probably the least common data format that I personally get to work with, but I've
                        interviewed quite a few people who primarily work with csv files, so it's important to cover
                        them.</p>
                    <p>I downloaded a GDP csv file from the <a
                            href="https://datacatalog.worldbank.org/dataset/gdp-ranking" target="_blank"
                            class="link">World Bank</a>. Fortunately, the downloaded file is quite messy. There are
                        extra empty columns, empty top and bottom rows, columns with information that we may
                        not want, and column names take up two cells. While you can clean the file up in Excel, let's
                        have some fun and clean it in Python.
                    </p>

                    <div class="csv-pull">
                        <img src="../styles/csv_pull.PNG" alt="screenshot of CSV file">
                    </div>
                    <p>
                        In this example, we will use <code>read_csv</code> function from Pandas library which comes with a
                        variety of helpful options. One of Panda's disadvantages is the library is big, and I've ran
                        into a few problems with referencing it during deployment stages, but we are simply trying to
                        load a csv file into Python, so I opted to use it. There is a <b>csv module</b> in Python that is also
                        worth looking into.
                    </p>
                    <p>How do we clean up the file? We can use <code>skiprows</code> option to remove empty top rows. We can
                        also drop the 3rd and 6th columns since they aren't needed. We will also rename columns in the
                        data frame. Lastly, we will use <code>dropna</code> function to remove rows with at least one missing
                        value. </p>
                    <script src="https://gist.github.com/dk27/bb2bc8dce817fdd59ebe80ed1fd74a94.js"></script>
                    <h3 class="blue">Relational Databases</h3>
                    <p>Most of the data I work with resides in relational databases, such as MySQL, Microsoft SQL
                        Server or Oracle.
                        I'll cover three Python libraries that I've used in the past. </p>
                    <ul>
                        <li class="list">&check; Pypyodbc</li>
                        <li class="list">&check; PyMySQL</li>
                        <li class="list">&check; cx_Oracle</li>
                    </ul>
                    <p>
                        Before we access the data, we need to establish a connection by specifying server name, database
                        name, password and username. We then need to create a <b>cursor</b> object. To get all the data from a query, use <code>fetchall</code> function. If you want to get only one row back, then you can use <code>fetchone</code> function. You can have the output of <code>fetchall</code> saved to pretty much any data type including data frames by utilizing Panda's <code>DataFrame</code> function. Keep in mind, this won't keep the column names, so you'll need to list them separately.  
                    </p>


                    <script src="https://gist.github.com/dk27/ab75a071814de2cb00af31e733cc097a.js"></script>
                    <p class="last-p">
                        A few things to note. Pypyodbc might give you problems with deploying an application in
                        Serverless environment on AWS. You can also try Panda's <code>read_sql</code> function to import data from MySQL or
                        MS SQL Server. A more advanced way of transferring data from relational databases into Python is
                        to use <b>Object-relational Mappers (ORMs)</b> such as SQLAlchemy or PonyORM. It requires a bit more
                        coding, but comes with a variety of advantages. Lastly, you should make
                        sure that you have appropriate drivers installed.
                    </p>
                    
                </div>

            </section>
        </div>
    </main>
    <footer>
        <div class="wrapper">
            <p>Copyright 2020 Don't You Love Data</p>
        </div>
    </footer>
</body>

</html>